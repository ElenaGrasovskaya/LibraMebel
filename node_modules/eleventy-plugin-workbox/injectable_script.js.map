{"version":3,"file":"injectable_script.js","sources":["../src/injectable_script.ts"],"sourcesContent":["import { makeRootUrl } from './url';\n\n/**\n * Build script for service worker registration\n * that will be injected into HTML.\n *\n * @param publicUrl of service worker.\n * @param scope of urls that can hijacked by service worker.\n * By convention, it should be in the site's root.\n */\nexport const buildSWScriptRegistration = (\n  publicUrl: string,\n  scope: string\n) => /* html */ `<!-- Register service worker for PWA offline mode support. -->\n      <script>\n        if (\"serviceWorker\" in window.navigator) {\n          window.addEventListener(\"load\", () =>\n            window.navigator.serviceWorker.register(\"${makeRootUrl(\n              publicUrl\n            )}\", { scope: \"${scope}\" }),\n          );\n        }\n      </script>`;\n"],"names":["publicUrl","scope","makeRootUrl"],"mappings":"gIAUyC,CACvCA,EACAC,IACc,mPAIuCC,cACzCF,kBACeC"}