{"version":3,"file":"optimize_svg.js","sources":["../src/optimize_svg.ts"],"sourcesContent":["import { promises } from 'fs';\n\nimport { optimize, OptimizeOptions } from 'svgo';\n\nimport { log } from './logger';\nimport { getVectorOptimizerOptions } from './vector_optimizer_options';\n\nexport const optimizeSVG = (\n  filePath: string,\n  classNames: ReadonlyArray<string>,\n  svgoOptions: OptimizeOptions\n): Promise<string> =>\n  promises\n    .readFile(filePath, {\n      encoding: 'utf8',\n    })\n    .then((source) =>\n      optimize(\n        source,\n        getVectorOptimizerOptions(filePath, classNames, svgoOptions)\n      )\n    )\n    .then(({ data }) => data)\n    .catch(\n      (error: Error) => (\n        log(`SVG optimization is failed with error.\\n%O`, error), ''\n      )\n    );\n"],"names":["filePath","classNames","svgoOptions","promises","readFile","encoding","then","source","optimize","getVectorOptimizerOptions","data","catch","error","log"],"mappings":"kMAO2B,CACzBA,EACAC,EACAC,IAEAC,WACGC,SAASJ,EAAU,CAClBK,SAAU,SAEXC,MAAMC,GACLC,WACED,EACAE,4BAA0BT,EAAUC,EAAYC,MAGnDI,MAAK,EAAGI,KAAAA,KAAWA,IACnBC,OACEC,IACCC,MAAI,6CAA8CD,GAAQ"}