{"version":3,"file":"public_path.js","sources":["../src/public_path.ts"],"sourcesContent":["import { sep, join, dirname } from 'path';\n\n/** Adds directory leading and trailing separator to directory. */\nexport const directoryWithBoundaries = (name: string): string =>\n  name.startsWith(sep)\n    ? name.endsWith(sep)\n      ? name\n      : name + sep\n    : directoryWithBoundaries(sep + name);\n\n/**\n * Gets public directories for image.\n * If image is downloaded from Web, then it has not any directory.\n * In that case we should return just output directory.\n */\nexport const getPublicPath = (\n  sourcePath: string,\n  inputDirectory: string,\n  outputDirectory: string\n): string =>\n  join(\n    outputDirectory,\n    sourcePath.includes(directoryWithBoundaries(inputDirectory))\n      ? dirname(\n          // Directory will start withoud leading directory separator, so we should\n          // add it manually for proper dirname work.\n          sep + sourcePath.split(directoryWithBoundaries(inputDirectory))[1]\n        )\n      : ''\n  );\n"],"names":["directoryWithBoundaries","name","startsWith","sep","endsWith","sourcePath","inputDirectory","outputDirectory","join","includes","dirname","split"],"mappings":"gGAGaA,EAA2BC,GACtCA,EAAKC,WAAWC,OACZF,EAAKG,SAASD,OACZF,EACAA,EAAOE,MACTH,EAAwBG,MAAMF,2DAOP,CAC3BI,EACAC,EACAC,IAEAC,OACED,EACAF,EAAWI,SAAST,EAAwBM,IACxCI,UAGEP,MAAME,EAAWM,MAAMX,EAAwBM,IAAiB,IAElE"}