"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("path"),t=require("pwa-asset-generator"),r=require("./once_cached.js"),o=require("./mkdir.js"),n=require("./build_public_url.js"),i=require("./pretty.js"),s=require("./constants.js");function u(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var a=u(t);const c=r.onceCached((({icons:t={},logger:r,options:u,buildDirectory:c})=>{var l,p,g;i.start("Starting icons generation");return(async({input:e,output:t,logger:r,options:i,publicDirectory:s})=>o.makeDirectories(t).then((()=>a.generateImages(e,t,Object.assign({log:!1,mstile:!0,favicon:!0,pathOverride:n.makeUrlFromRoot(s)},i),r))).then((({htmlMeta:e,manifestJsonContent:t})=>({html:Object.values(e).join(""),manifestJsonContent:t}))))({input:e.resolve(null!==(l=t.pathToRawImage)&&void 0!==l?l:e.join(s.DEFAULT_SOURCE_DIRECTORY,s.DEFAULT_IMAGE_NAME)),output:e.resolve(c,null!==(p=t.publicDirectory)&&void 0!==p?p:s.DEFAULT_ICONS_DIRECTORY),publicDirectory:null!==(g=t.publicDirectory)&&void 0!==g?g:s.DEFAULT_ICONS_DIRECTORY,options:u,logger:r}).then((e=>(i.done("Icons for PWA were successfully generated"),e)),(e=>(i.oops(e),{html:"",manifestJsonContent:[]})))}));exports.handleImages=c;
//# sourceMappingURL=generate_images.js.map
