{"version":3,"file":"brotli.js","sources":["../src/brotli.ts"],"sourcesContent":["import { brotliCompress, constants } from 'zlib';\n\nimport { CompressedContentInfo } from './types';\n\n/** Compress content with `brotli` algorithm. */\nexport const brotli = (\n  content: string,\n  outputPath: string\n): Promise<CompressedContentInfo> =>\n  new Promise<Buffer>((resolve, reject) =>\n    brotliCompress(\n      content,\n      {\n        params: {\n          [constants.BROTLI_PARAM_QUALITY]: constants.BROTLI_MAX_QUALITY,\n        },\n      },\n      (error, compressed) => (error ? reject(error) : resolve(compressed))\n    )\n  ).then((data) => ({ data, url: outputPath + '.br' }));\n"],"names":["content","outputPath","Promise","resolve","reject","brotliCompress","params","[object Object]","constants","BROTLI_PARAM_QUALITY","BROTLI_MAX_QUALITY","error","compressed","then","data","url"],"mappings":"yGAKsB,CACpBA,EACAC,IAEA,IAAIC,SAAgB,CAACC,EAASC,IAC5BC,iBACEL,EACA,CACEM,OAAQ,CACNC,CAACC,YAAUC,sBAAuBD,YAAUE,sBAGhD,CAACC,EAAOC,IAAgBD,EAAQP,EAAOO,GAASR,EAAQS,OAE1DC,MAAMC,KAAYA,KAAAA,EAAMC,IAAKd,EAAa"}