{"version":3,"file":"deflate.js","sources":["../src/deflate.ts"],"sourcesContent":["import { deflate as deflateCompress, constants } from 'zlib';\n\nimport { CompressedContentInfo } from './types';\n\n/** Compress content with `deflate` algorithm. */\nexport const deflate = (\n  content: string,\n  outputPath: string\n): Promise<CompressedContentInfo> =>\n  new Promise<Buffer>((resolve, reject) =>\n    deflateCompress(\n      content,\n      {\n        level: constants.Z_MAX_LEVEL,\n      },\n      (error, compressed) => (error ? reject(error) : resolve(compressed))\n    )\n  ).then((data) => ({ data, url: outputPath + '.deflate' }));\n"],"names":["content","outputPath","Promise","resolve","reject","deflateCompress","level","constants","Z_MAX_LEVEL","error","compressed","then","data","url"],"mappings":"0GAKuB,CACrBA,EACAC,IAEA,IAAIC,SAAgB,CAACC,EAASC,IAC5BC,UACEL,EACA,CACEM,MAAOC,YAAUC,cAEnB,CAACC,EAAOC,IAAgBD,EAAQL,EAAOK,GAASN,EAAQO,OAE1DC,MAAMC,KAAYA,KAAAA,EAAMC,IAAKZ,EAAa"}